<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Form Studente </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container mt-5">
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">
        <h4 class="mb-0">Modulo Studente</h4>
      </div>
      <div class="card-body">
        <form id="formUtente" action="/api/studentForm" method="post">
          <div class="mb-3">
            <label for="nome" class="form-label">Nome</label>
            <input type="text" class="form-control" id="nome"
                   name="nome" placeholder="Inserisci il tuo nome"
                   onblur="checkNome(this.value);"
            >
          </div>

          <div class="mb-3">
            <label for="cognome" class="form-label">Cognome</label>
            <input type="text" class="form-control" id="cognome" name="cognome"
                   placeholder="Inserisci il tuo cognome"
            onblur="checkCognome(this.value);" >
          </div>

          <div class="mb-3">
            <label for="corso" class="form-label">Corso di studi</label>
            <select required class="form-select" id="corso" name="corso">
              <option value="">-- Seleziona un corso --</option>
              <option value="informatica">Informatica</option>
              <option value="ingegneria">Ingegneria</option>
              <option value="matematica">Matematica</option>
              <option value="fisica">Fisica</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" 
			placeholder="esempio@dominio.it"
                   onblur="checkEmail(this.value);">
          </div>

          <div class="mb-3">
            <label for="telefono" class="form-label">Numero di telefono</label>
            <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="1234567890">
          </div>



          <div class="mb-4">
            <label class="form-label">Esami e Voti</label>

            <table class="table table-bordered" id="tabellaEsami">
              <thead class="table-light">
              <tr>
                <th>Nome Esame</th>
                <th>Voto</th>
                <th>Azioni</th>
              </tr>
              </thead>
              <tbody>
              </tbody>
            </table>

            <button id="btnAggiungiRiga" type="button" class="btn btn-success btn-sm" >Aggiungi Riga</button>
          </div>





          <div class="text-end">
            <button type="submit" class="btn btn-primary">Invia</button>
            <button type="reset" class="btn btn-secondary">Reset</button>
          </div>
		  
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="js/formValidation.js"></script>


  <script>

    function addRow(){

        const tr = document.createElement('tr');

        tr.innerHTML =
                '<td><input type="text" class="form-control" name="esame[]" placeholder="Nome esame"></td>'+
                '<td><input type="number" class="form-control" name="voto[]" placeholder="Voto" min="18" max="30"></td>'+
                '<td><button type="button" class="btn btn-danger btn-sm btnRimuovi">Rimuovi</button></td>'
        ;

        tabella.appendChild(tr);

        // collega evento al bottone Rimuovi
        tr.querySelector('.btnRimuovi').addEventListener('click', () => {
          tr.remove();
        });


    }

    const tabella = document.getElementById('tabellaEsami').querySelector('tbody');
    const btnAggiungi = document.getElementById('btnAggiungiRiga');

    btnAggiungi.addEventListener('click', addRow);


    // btnAggiungi.addEventListener('click', () => {
    //   const tr = document.createElement('tr');
    //
    //   tr.innerHTML = '<td><input type="text" class="form-control" name="esame[]" placeholder="Nome esame"></td>'+
    //           '<td><input type="number" class="form-control" name="voto[]" placeholder="Voto" min="18" max="30"></td>'+
    //           '<td><button type="button" class="btn btn-danger btn-sm btnRimuovi">Rimuovi</button></td>'
    //   ;
    //
    //   tabella.appendChild(tr);
    //
    //   // collega evento al bottone Rimuovi
    //   tr.querySelector('.btnRimuovi').addEventListener('click', () => {
    //     tr.remove();
    //   });
    // });

  </script>

</body>
</html>
